{"version":3,"sources":["webpack://DBP/webpack/universalModuleDefinition","webpack://DBP/webpack/bootstrap","webpack://DBP/external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack://DBP/./src/logger.js","webpack://DBP/./node_modules/js-cookie/src/js.cookie.js","webpack://DBP/./src/techniques/mouseout.js","webpack://DBP/./src/techniques/history.js","webpack://DBP/./src/techniques/blur.js","webpack://DBP/./src/techniques/index.js","webpack://DBP/./src/core.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","messages","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","OldCookies","Cookies","api","noConflict","extend","result","arguments","length","attributes","key","init","converter","document","path","defaults","expires","Date","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","split","rdecode","parts","slice","join","this","json","charAt","read","parse","set","getJSON","apply","remove","withConverter","logger","$","NUMBER_OF_MOVEMENTS","create","variables","timerReference","movements","Array","fill","x","y","scrolling","mousemove","event","unshift","clientX","clientY","mouseout","from","relatedTarget","toElement","nodeName","distance","sensitivity","onBounce","scrollDelay","scroll","clearTimeout","setTimeout","HASH_SUFFIX","history","bouncing","replaceState","title","pushState","contaminatePriorState","bind","state","location","hash","hashchange","substr","REFOCUS_INTERVAL","REFOCUS_TIMEOUT","BLURRY_TIMEOUT","BLURRABLE_ELEMENT","blurHiddenField","appendTo","canBlur","refocus","focus","setInterval","disallowBlurReference","blurCheckReference","mousedown","blur","techniques","Cookie","options","knownMobile","userOptions","isMobile","navigator","userAgent","disabled","count","defaultOptions","method","showPerPage","showPerUser","cookieName","onlySameReferrer","notSameReferrer","console","log","assign","bounceFunction","checkReferrer","anchorTag","createElement","href","referrer","host","readUserCount","args","wrapBounceFunction","getDefaultedOptions","getCreationArguments","appliedTechniques","isArray","forEach","technique","disable","enable"],"mappings":"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","file":"DBP-1.0.1.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"DBP\", [\"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DBP\"] = factory(require(\"jquery\"));\n\telse\n\t\troot[\"DBP\"] = factory(root[\"$\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = (...messages) => {\n  // console.log(...messages);\n  return messages;\n};\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!this.json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","const logger = require('../logger');\nconst $ = require('jquery');\n\n// the number of movements to track to measure sensitivity.\nconst NUMBER_OF_MOVEMENTS = 10;\n\nfunction create(root, document, variables) {\n  let timerReference = null;\n  let movements = Array(NUMBER_OF_MOVEMENTS).fill({ x: 0, y: 0 });\n  let scrolling = false;\n\n  $(document).mousemove(event => {\n    // track the movements.\n    movements.unshift({\n      x: event.clientX,\n      y: event.clientY,\n    });\n\n    movements = movements.slice(0, NUMBER_OF_MOVEMENTS);\n  });\n\n  $(document).mouseout(event => {\n    logger(+new Date(), 'mouseout: mouseout event fired, scrolling:', scrolling);\n\n    if (!scrolling) {\n      const from = event.relatedTarget || event.toElement;\n      logger(+new Date(), 'mouseout: client Y: ', event.clientY);\n\n      if (from && from.nodeName !== 'HTML') return; // not the root element\n      if (\n        event.clientY <= variables.distance &&\n        movements[NUMBER_OF_MOVEMENTS - 1].y - movements[0].y > variables.sensitivity\n      ) {\n        variables.onBounce('mouseout');\n      }\n    }\n  });\n\n  if (variables.scrollDelay) {\n    $(root).scroll(() => {\n      scrolling = true;\n      logger(+new Date(), 'mouseout: scroll delay activated');\n\n      clearTimeout(timerReference);\n      timerReference = setTimeout(() => {\n        logger(+new Date(), 'mouseout: scroll delay deactivated');\n        scrolling = false;\n      }, variables.scrollDelay);\n    });\n  }\n}\n\nmodule.exports = {\n  create,\n};\n","const logger = require('../logger');\nconst $ = require('jquery');\n\nconst HASH_SUFFIX = 'bht';\nfunction create(root, document, variables) {\n  function contaminatePriorState(object = { bouncing: true }) {\n    logger(+new Date(), 'contaminating state with', object);\n    root.history.replaceState(object, root.title);\n    root.history.pushState(null, root.title);\n  }\n\n  if ('replaceState' in root.history) {\n    // Populate a 'bouncing' state in the queue and immediately move us away from that state.\n    logger(+new Date(), 'history: replaceState mode');\n    contaminatePriorState();\n\n    // Handle popstate events\n    $(root).bind('popstate', () => {\n      logger(+new Date(), 'history: popState event caught with state', root.history.state);\n      if (root.history.state && root.history.state.bouncing) {\n        variables.onBounce('history');\n      }\n    });\n  } else if ('onhashchange' in root) {\n    // We don't support pushState, so instead use the hash in the URL.\n    logger(+new Date(), 'history: onhashchange mode');\n    root.location.replace(`#${HASH_SUFFIX}`);\n    root.location.hash = '';\n    $(root).hashchange(() => {\n      logger(+new Date(), 'history: hashChange event caught with state', root.location.hash);\n      if (root.location.hash.substr(HASH_SUFFIX.length * -1) === HASH_SUFFIX) {\n        variables.onBounce('history');\n      }\n    });\n  }\n}\n\nmodule.exports = {\n  create,\n};\n","const logger = require('../logger');\n// eslint-disable-next-line id-length\nconst $ = require('jquery');\n\n// how frequently to check if something blurable has focus\nconst REFOCUS_INTERVAL = 1000;\n\n// how long after click to wait to allow blur events again.\nconst REFOCUS_TIMEOUT = 150;\n\n// how long to wait for the click event to fire.\nconst BLURRY_TIMEOUT = 10;\n\n// the element to be created and pointed at when something non-blurrable is selected.\nconst BLURRABLE_ELEMENT = \"<a href='#' style='position:fixed; top:20px; left: -1000px;' />\";\n\nfunction create(root, document, variables) {\n  const blurHiddenField = $(BLURRABLE_ELEMENT).appendTo('body');\n  let canBlur = false;\n\n  function refocus() {\n    if (!$(':focus').length) {\n      blurHiddenField.focus();\n    }\n  }\n  setInterval(refocus, REFOCUS_INTERVAL);\n  refocus();\n\n  let disallowBlurReference = null;\n  let blurCheckReference = null;\n  $(document).mousedown(() => {\n    // any on page clicks, set a global state to false so we can't trigger the blur bounce.\n    // after the click, if an input is selected, then we're good. if it isn't, select it again.\n    logger(+new Date(), 'blur: allowing blur for', REFOCUS_TIMEOUT);\n    canBlur = true;\n    clearTimeout(disallowBlurReference);\n    disallowBlurReference = setTimeout(() => {\n      logger(+new Date(), 'blur: disallowing blur');\n      canBlur = false;\n      refocus();\n    }, REFOCUS_TIMEOUT);\n  });\n\n  $('*').blur(() => {\n    logger(+new Date(), 'blur: queuing a canBlur check in', BLURRY_TIMEOUT);\n    clearTimeout(blurCheckReference);\n    blurCheckReference = setTimeout(() => {\n      logger(+new Date(), 'blur: canBlur check', canBlur);\n      if (!canBlur) {\n        variables.onBounce('blur');\n      }\n    }, BLURRY_TIMEOUT);\n  });\n}\n\nmodule.exports = {\n  create,\n};\n","module.exports = {\n  blur: require('./blur'),\n  history: require('./history'),\n  mouseout: require('./mouseout'),\n};\n","const techniques = require('./techniques');\nconst Cookie = require('js-cookie');\n\n/*\n * options is either an object of options including an onBounce method, or it is a function to be run onBounce.\n * knownMobile, if specified, overrules our mobile check.\n */\nfunction initialize(options, knownMobile = undefined) {\n  const userOptions = typeof options === 'function' ? { onBounce: options } : options;\n  const isMobile =\n    knownMobile !== undefined\n      ? knownMobile\n      : /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\n          window.navigator.userAgent\n        );\n  const state = {\n    disabled: false,\n    count: 0,\n  };\n\n  function getDefaultedOptions() {\n    const defaultOptions = {\n      method: 'auto', // the method used \"auto\", \"mouseout\", \"history\" or \"blur\".\n      showPerPage: 1, // the maximum number of times to trigger per page (or false to disable)\n      showPerUser: undefined, // the maximum number of times to trigger per user (cookie based)\n      cookieName: 'dbp',\n\n      // mouseout detector settings\n      distance: 100, // minimum distance from the top the user must have exited the window to trigger.\n      sensitivity: 10, // minimum distance the mouse must have moved lately to trigger.\n      scrollDelay: 500, // ms to wait after scrolling before mouseout will register.\n\n      onlySameReferrer: false, // only show if the referrer is the same domain (user has been on site)\n      notSameReferrer: false, // only show if the referrer is not the same domain (user just came in)\n\n      onBounce: () => {\n        console.log('bounce');\n      }, // The default onBounce handler\n    };\n\n    const variables = Object.assign({}, defaultOptions, userOptions);\n\n    function wrapBounceFunction(bounceFunction) {\n      function checkReferrer() {\n        const anchorTag = document.createElement('a');\n        anchorTag.href = document.referrer;\n        return document.referrer && anchorTag.host === window.location.host;\n      }\n\n      function readUserCount() {\n        return +Cookie.get(variables.cookieName);\n      }\n      function incrementUserCount() {\n        Cookie.set(variables.cookieName, readUserCount() + 1);\n      }\n\n      return (...args) => {\n        if (variables.onlySameReferrer && checkReferrer()) return;\n        if (variables.notSameReferrer && !checkReferrer()) return;\n\n        if (variables.showPerPage && state.count > variables.showPerPage) return;\n        if (variables.showPerUser && readUserCount() > variables.showPerUser) return;\n\n        if (state.disabled) return;\n\n        bounceFunction(...args);\n        state.count++;\n        incrementUserCount();\n      };\n    }\n\n    variables.onBounce = wrapBounceFunction(variables.onBounce.bind({}));\n    return variables;\n  }\n\n  function getCreationArguments(variables) {\n    return [window, document, variables];\n  }\n\n  const variables = getDefaultedOptions();\n  const args = getCreationArguments(variables);\n\n  let appliedTechniques = [];\n  if (variables.method === 'auto')\n    appliedTechniques = isMobile ? ['blur', 'history'] : ['mouseout'];\n  else appliedTechniques = Array.isArray(variables.method) ? variables.method : [variables.method];\n\n  appliedTechniques.forEach(technique => {\n    techniques[technique].create(...args);\n  });\n\n  return {\n    disable: () => {\n      state.disabled = true;\n    },\n    enable: () => {\n      state.disabled = false;\n    },\n    count: () => {\n      return state.count;\n    },\n  };\n}\n\nmodule.exports = initialize;\n"],"sourceRoot":""}